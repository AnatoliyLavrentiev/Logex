<div class="modal-header">
    <h2 class="modal-title fw-bold text-primary w-100 text-center">
        <i class="fa-solid fa-pen-to-square me-2"></i> Modifier l'entrepôt : {{ warehouse.name }}
    </h2>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
</div>

<div class="modal-body">
    {{ form_start(form, { 'attr': { 'class': 'mt-3' } }) }}

    <div class="mb-3 text-center">
        {{ form_label(form.name, "Nom de l'entrepôt", {'label_attr': {'class': 'fw-semibold'}}) }}
        {{ form_widget(form.name, {'attr': {'class': 'form-control'}}) }}
    </div>

    <div class="mb-3 text-center">
        {{ form_label(form.location, "Ville", {'label_attr': {'class': 'fw-semibold'}}) }}
        {{ form_widget(form.location, {'attr': {'class': 'form-control'}}) }}
    </div>

    <div class="mb-3 text-center">
        {{ form_label(form.adresse, "Adresse", {'label_attr': {'class': 'fw-semibold'}}) }}
        {{ form_widget(form.adresse, {'attr': {'class': 'form-control'}}) }}
    </div>

    <div class="mb-3 text-center">
        <label for="{{ form.zoneStockage.vars.id }}" class="form-label fw-semibold">
            Zone dédiée au stockage (m²)
        </label>
        {{ form_widget(form.zoneStockage, {'attr': {'class': 'form-control', 'placeholder': 'Ex : 40000'}}) }}
    </div>

    <div class="mb-3 text-center">
        <label for="{{ form.hauteurStockage.vars.id }}" class="form-label fw-semibold">
            Hauteur de stockage max (m)
        </label>
        {{ form_widget(form.hauteurStockage, {'attr': {'class': 'form-control', 'placeholder': 'Ex : 10'}}) }}
    </div>

    {{ form_widget(form.capaciteStockage, { 'attr': { 'class': 'd-none' } }) }}

    <button type="submit" class="btn btn-success w-100">
        <i class="fa-solid fa-floppy-disk me-2""></i> Enregistrer
    </button>

    {{ form_end(form) }}
</div>


<script>
document.addEventListener('DOMContentLoaded', function(){
    function calculateCapacity(){
        var zone = parseFloat(document.getElementById('{{ form.zoneStockage.vars.id }}').value) || 0;
        var hauteur = parseFloat(document.getElementById('{{ form.hauteurStockage.vars.id }}').value) || 0;
        var capacity = zone * hauteur;
        console.log("Capacité calculée: " + capacity + " m³");
    }
    document.getElementById('{{ form.zoneStockage.vars.id }}').addEventListener('input', calculateCapacity);
    document.getElementById('{{ form.hauteurStockage.vars.id }}').addEventListener('input', calculateCapacity);
});
</script>